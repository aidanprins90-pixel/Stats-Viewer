--// Services & Setup
local players = game:GetService("Players")
local player = players.LocalPlayer
local rs = game:GetService("ReplicatedStorage")

local playerStatsFolder = rs:WaitForChild("PlayerStats")

--// Main Logic
local function SetupLeaderstats(targetPlayer)
        local leaderstats = targetPlayer:FindFirstChild("leaderstats")
        if not leaderstats then
                leaderstats = Instance.new("Folder")
                leaderstats.Name = "leaderstats"
                leaderstats.Parent = targetPlayer
        end

        local money = leaderstats:FindFirstChild("Money")
        if not money then
                money = Instance.new("IntValue")
                money.Name = "Money"
                money.Parent = leaderstats
        end

        local targetFolder = playerStatsFolder:WaitForChild(targetPlayer.Name)
        local cashValue = targetFolder:WaitForChild("Cash")
        money.Value = cashValue.Value

        cashValue:GetPropertyChangedSignal("Value"):Connect(function()
                money.Value = cashValue.Value
        end)
end

--// Apply Modified Leaderstats
for _, plr in pairs(players:GetPlayers()) do
        task.spawn(SetupLeaderstats, plr)
end

players.PlayerAdded:Connect(function(plr)
        SetupLeaderstats(plr)
end)

players.PlayerRemoving:Connect(function(plr)
        local leaderstats = plr:FindFirstChild("leaderstats")
        if leaderstats then
                leaderstats:Destroy()
        end
end)
